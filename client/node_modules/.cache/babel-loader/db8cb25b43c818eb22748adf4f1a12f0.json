{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _vanillaSwipe = require('vanilla-swipe');\n\nvar _vanillaSwipe2 = _interopRequireDefault(_vanillaSwipe);\n\nvar _utils = require('./utils');\n\nvar Utils = _interopRequireWildcard(_utils);\n\nvar _views = require('./views');\n\nvar Views = _interopRequireWildcard(_views);\n\nvar _propTypes = require('./prop-types');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar AliceCarousel = function (_React$PureComponent) {\n  _inherits(AliceCarousel, _React$PureComponent);\n\n  function AliceCarousel(props) {\n    _classCallCheck(this, AliceCarousel);\n\n    var _this = _possibleConstructorReturn(this, (AliceCarousel.__proto__ || Object.getPrototypeOf(AliceCarousel)).call(this, props));\n\n    _this._handleOnWindowResize = function (e) {\n      var shouldHandleResizeEvent = _this.props.shouldHandleResizeEvent;\n      var currentDimensions = Utils.getElementDimensions(_this.rootComponent);\n      var shouldProcessEvent = shouldHandleResizeEvent || Utils.shouldHandleResizeEvent;\n\n      if (shouldProcessEvent(e, _this.rootComponentDimensions, currentDimensions)) {\n        _this.rootComponentDimensions = currentDimensions;\n\n        _this._disableAnimation();\n\n        _this._handleOnMouseEnter();\n\n        var isAnimationCanceled = _this._isSwipeAnimationProcessing();\n\n        var currState = Utils.calculateInitialProps(_this.props, _this.stageComponent);\n        var translate3d = Utils.getTranslate3dPosition(currState.currentIndex, currState);\n\n        var nextState = _extends({}, currState, {\n          translate3d: translate3d,\n          isAnimationCanceled: isAnimationCanceled,\n          initialStageHeight: 0\n        });\n\n        if (isAnimationCanceled) Utils.animate(_this.stageComponent, translate3d);\n\n        _this.setState(nextState, function () {\n          _this._resetAllIntermediateProps();\n\n          _this._handleOnMouseLeave();\n\n          _this._onResized();\n        });\n      }\n    };\n\n    _this._handleOnAnimationCanceled = function () {\n      _this._resetAllIntermediateProps();\n\n      _this.setState({\n        isAnimationCanceled: false\n      });\n    };\n\n    _this._handleOnKeyUp = function (e) {\n      switch (e.code) {\n        case 'Space':\n          return _this._handleOnSpaceBarClick();\n\n        case 'ArrowLeft':\n          return _this.slidePrev();\n\n        case 'ArrowRight':\n          return _this.slideNext();\n      }\n    };\n\n    _this._handleOnSpaceBarClick = function () {\n      _this.props.autoPlay && _this._playPauseToggle();\n    };\n\n    _this._handleOnMouseEnter = function () {\n      if (_this.props.stopAutoPlayOnHover) {\n        _this.isHovered = true;\n      }\n    };\n\n    _this._handleOnMouseLeave = function () {\n      _this.isHovered = false;\n    };\n\n    _this._onSlideToIndexChange = function (currentIndex, slideToIndex) {\n      if (slideToIndex === currentIndex + 1) {\n        _this.slideNext();\n      } else if (slideToIndex === currentIndex - 1) {\n        _this.slidePrev();\n      } else {\n        _this.slideTo(slideToIndex);\n      }\n    };\n\n    _this._onInactiveItem = function () {\n      _this._onSlideChange();\n\n      _this._onSlideChanged();\n\n      _this._allowAnimation();\n\n      _this._pause();\n    };\n\n    _this._getFadeOutAnimationState = function (shouldRecalculate) {\n      if (shouldRecalculate || _this._isFadeOutAnimationAllowed()) {\n        return {\n          fadeoutAnimationProcessing: false\n        };\n      }\n\n      return {};\n    };\n\n    _this._setRootComponentRef = function (node) {\n      return _this.rootComponent = node;\n    };\n\n    _this._setStageComponentRef = function (node) {\n      return _this.stageComponent = node;\n    };\n\n    _this._allowAnimation = function () {\n      return _this.allowAnimation = true;\n    };\n\n    _this._disableAnimation = function () {\n      return _this.allowAnimation = false;\n    };\n\n    _this._skipSlidePositionRecalculation = function () {\n      if (_this._isFadeOutAnimationAllowed()) {\n        return _this._resetFadeOutAnimationState();\n      }\n\n      _this._onSlideChanged();\n\n      _this.props.disableAutoPlayOnAction && _this._pause();\n      _this.isHovered = false;\n    };\n\n    _this._updateSlidePosition = function () {\n      _this._updateSlidePositionIntervalId = setTimeout(function () {\n        if (_this._shouldRecalculatePosition()) {\n          _this._recalculateSlidePosition();\n        } else if (_this._isFadeOutAnimationAllowed()) {\n          _this._resetFadeOutAnimationState();\n        } else {\n          _this._onSlideChanged();\n        }\n      }, _this.state.duration);\n    };\n\n    _this._resetFadeOutAnimationState = function () {\n      _this.setState({\n        fadeoutAnimationProcessing: false\n      }, _this._onSlideChanged);\n    };\n\n    _this._resetAllIntermediateProps = function () {\n      _this.swipingStarted = false;\n      _this.verticalSwipingDetected = false;\n\n      _this._stopSwipeAnimation();\n\n      _this._resetAnimationProps();\n\n      _this._resetSwipePositionProps();\n\n      _this._clearUpdateSlidePositionIntervalId();\n\n      _this._allowAnimation();\n    };\n\n    _this._recalculateSlidePosition = function () {\n      var style = Utils.getDefaultStyles();\n      var currentIndex = Utils.recalculateCurrentSlideIndex(_this.state);\n      var translate3d = Utils.recalculateTranslatePosition(_this.state);\n\n      _this.setState(_extends({\n        currentIndex: currentIndex,\n        translate3d: translate3d,\n        style: style\n      }, _this._getFadeOutAnimationState()), function () {\n        return _this._onSlideChanged();\n      });\n    };\n\n    _this._getEventObject = function () {\n      var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.state;\n      var itemsInSlide = state.items,\n          item = state.currentIndex;\n\n      var _Utils$itemInfo = Utils.itemInfo(state),\n          isNextSlideDisabled = _Utils$itemInfo.isNextSlideDisabled,\n          isPrevSlideDisabled = _Utils$itemInfo.isPrevSlideDisabled;\n\n      var slide = Utils.getActiveSlideIndex(isNextSlideDisabled, state);\n      return {\n        item: item,\n        slide: slide,\n        itemsInSlide: itemsInSlide,\n        isNextSlideDisabled: isNextSlideDisabled,\n        isPrevSlideDisabled: isPrevSlideDisabled\n      };\n    };\n\n    _this.setAnimationPropsOnDotClick = function (itemIndex) {\n      var _this$state = _this.state,\n          currentIndex = _this$state.currentIndex,\n          itemWidth = _this$state.itemWidth;\n      var fadeOutIndex = currentIndex + 1;\n      var fadeOutOffset = Utils.getFadeOutOffsetOnDotClick(itemIndex, currentIndex, itemWidth);\n\n      _this._setAnimationProps({\n        fadeOutIndex: fadeOutIndex,\n        fadeOutOffset: fadeOutOffset,\n        allowFadeOutAnimation: true\n      });\n    };\n\n    _this._pause = function () {\n      if (_this._autoPlayIntervalId) {\n        _this._clearAutoPlayInterval();\n\n        _this.setState({\n          isPlaying: false\n        });\n      }\n    };\n\n    _this._playPauseToggle = function () {\n      if (!_this.allowAnimation) return;\n      _this.state.isPlaying ? _this._pause() : _this._play();\n    };\n\n    _this._getIntermediateStateProps = function (duration, shouldSkipRecalculation) {\n      var condition = !shouldSkipRecalculation && _this._isFadeOutAnimationAllowed();\n\n      return Utils.getIntermediateTransitionProps(condition, duration);\n    };\n\n    _this._startSwipeAnimation = function () {\n      _this.swipeAnimation = true;\n    };\n\n    _this._stopSwipeAnimation = function () {\n      _this.swipeAnimation = false;\n      _this.touchEndAnimation = false;\n      _this.touchEndTimeoutId = null;\n    };\n\n    _this._setAnimationProps = function (newProps) {\n      var prevProps = _this.animationProps || {};\n      _this.animationProps = _extends({}, prevProps, newProps);\n    };\n\n    _this._resetAnimationProps = function () {\n      _this.animationProps = {};\n    };\n\n    _this._setSwipePositionProps = function (newProps) {\n      var prevProps = _this.swipePosition || {};\n      _this.swipePosition = _extends({}, prevProps, newProps);\n    };\n\n    _this._resetSwipePositionProps = function () {\n      _this.swipePosition = {};\n    };\n\n    _this._getTranslateXPosition = function (deltaX) {\n      var translate3d = _this.state.translate3d;\n      var lastSwipePosition = _this.swipePosition.lastSwipePosition;\n      var position = lastSwipePosition || translate3d;\n\n      if (_this.touchEndAnimation) {\n        _this.touchEndAnimation = false;\n        var translateX = Utils.getTranslateX(_this.stageComponent);\n\n        if (translateX) {\n          return translateX;\n        }\n      }\n\n      return position - Math.floor(deltaX);\n    };\n\n    _this._onTouchEnd = function () {\n      _this.swipingStarted = false;\n      if (_this._isSwipeDisable()) return;\n\n      _this._setSwipePositionProps({\n        lastSwipePosition: _this.swipePosition.position\n      });\n\n      _this._beforeTouchEnd();\n    };\n\n    _this._isHovered = function () {\n      return _this.isHovered;\n    };\n\n    _this._isClickDisabled = function (itemIndex) {\n      var _this$state2 = _this.state,\n          currentIndex = _this$state2.currentIndex,\n          isAnimationCanceled = _this$state2.isAnimationCanceled;\n      return currentIndex === itemIndex || isAnimationCanceled || !_this.allowAnimation || _this.swipeAnimation;\n    };\n\n    _this._isFadeOutAnimationAllowed = function () {\n      var _this$state3 = _this.state,\n          stagePadding = _this$state3.stagePadding,\n          items = _this$state3.items;\n      var hasNoStagePadding = !(stagePadding.paddingLeft || stagePadding.paddingRight);\n      return _this.props.fadeOutAnimation && items === 1 && hasNoStagePadding;\n    };\n\n    _this._isSwipeDisable = function () {\n      var _this$state4 = _this.state,\n          isAnimationCanceled = _this$state4.isAnimationCanceled,\n          fadeOutAnimation = _this$state4.fadeOutAnimation;\n      return _this.props.swipeDisabled || fadeOutAnimation || isAnimationCanceled || _this.verticalSwipingDetected;\n    };\n\n    _this._isSwipeAnimationLastFrame = function () {\n      return !_this.swipingStarted;\n    };\n\n    _this._isSwipeAnimationProcessing = function () {\n      return _this.touchEndTimeoutId;\n    };\n\n    _this._shouldRecalculatePosition = function () {\n      var _this$state5 = _this.state,\n          slides = _this$state5.slides,\n          currentIndex = _this$state5.currentIndex;\n      return currentIndex < 0 || currentIndex >= slides.length;\n    };\n\n    _this._setAnimationPropsOnClick = function (direction) {\n      var _this$state6 = _this.state,\n          currentIndex = _this$state6.currentIndex,\n          itemWidth = _this$state6.itemWidth;\n      var fadeOutIndex = Utils.getFadeOutIndexOnClick(currentIndex);\n      var fadeOutOffset = Utils.getFadeOutOffsetOnClick(direction, itemWidth);\n\n      _this._setAnimationProps({\n        fadeOutIndex: fadeOutIndex,\n        fadeOutOffset: fadeOutOffset,\n        allowFadeOutAnimation: true\n      });\n    };\n\n    _this._renderSlideInfo = function () {\n      var _this$state7 = _this.state,\n          currentIndex = _this$state7.currentIndex,\n          slides = _this$state7.slides;\n      return _react2.default.createElement(Views.SlideInfo, {\n        slidesLength: slides.length,\n        currentIndex: currentIndex\n      });\n    };\n\n    _this._renderStageItem = function (item, i) {\n      var style = Utils.itemStyles(i, _this.state, _this.animationProps);\n      var className = Utils.itemClassName(i, _this.state, _this.animationProps);\n      return _react2.default.createElement(Views.StageItem, {\n        styles: style,\n        className: className,\n        key: 'stage-item-' + i,\n        item: item\n      });\n    };\n\n    _this.state = {\n      clones: [],\n      stagePadding: {\n        paddingLeft: 400,\n        // in pixels\n        paddingRight: 400\n      },\n      currentIndex: 1,\n      initialStageHeight: 0,\n      duration: props.duration,\n      slides: Utils.getSlides(props),\n      style: Utils.getDefaultStyles()\n    };\n    _this.slideTo = _this.slideTo.bind(_this);\n    _this.slidePrev = _this.slidePrev.bind(_this);\n    _this.slideNext = _this.slideNext.bind(_this);\n    _this._onTouchMove = _this._onTouchMove.bind(_this);\n    _this._throttledOnTouchMove = Utils.throttle(_this._onTouchMove, 10);\n    _this._debouncedHandleOnWindowResize = Utils.debounce(_this._handleOnWindowResize, 100);\n    return _this;\n  }\n\n  _createClass(AliceCarousel, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._setInitialState();\n\n      this._setupSwipeHahdlers();\n\n      this._resetAllIntermediateProps();\n\n      this.rootComponentDimensions = Utils.getElementDimensions(this.rootComponent);\n      window.addEventListener('resize', this._debouncedHandleOnWindowResize);\n\n      if (!this.props.keysControlDisabled) {\n        window.addEventListener('keyup', this._handleOnKeyUp);\n      }\n\n      this.props.autoPlay && this._play();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.autoHeight && this.stageComponent && !this.state.initialStageHeight) {\n        var initialStageHeight = Utils.getGalleryItemHeight(this.stageComponent, this.props, this.state);\n        this.setState({\n          initialStageHeight: initialStageHeight\n        });\n      }\n\n      if (this.props.duration !== prevProps.duration) {\n        this.setState({\n          duration: this.props.duration\n        });\n      }\n\n      if (this.props.fadeOutAnimation !== prevProps.fadeOutAnimation) {\n        this.setState({\n          fadeoutAnimationProcessing: false\n        }, this._resetAnimationProps);\n      }\n\n      if (this.props.slideToIndex !== prevProps.slideToIndex) {\n        this._onSlideToIndexChange(this.state.currentIndex, this.props.slideToIndex);\n      }\n\n      if (this.props.disableAutoPlayOnAction !== prevProps.disableAutoPlayOnAction || this.props.autoPlayDirection !== prevProps.autoPlayDirection || this.props.autoPlayInterval !== prevProps.autoPlayInterval || this.props.infinite !== prevProps.infinite || this.props.autoPlay !== prevProps.autoPlay) {\n        this.props.autoPlay ? this._play() : this._pause();\n      }\n\n      if (this.props.stagePadding !== prevProps.stagePadding || this.props.responsive !== prevProps.responsive || this.props.infinite !== prevProps.infinite || this.props.items !== prevProps.items) {\n        this._resetAllIntermediateProps();\n\n        this.setState(Utils.calculateInitialProps(this.props, this.stageComponent));\n      }\n\n      if (this.props.keysControlDisabled !== prevProps.keysControlDisabled) {\n        this.props.keysControlDisabled ? window.removeEventListener('keyup', this._handleOnKeyUp) : window.addEventListener('keyup', this._handleOnKeyUp);\n      }\n\n      if (!this.swipingStarted) {\n        this.swiper.update({\n          mouseTrackingEnabled: this.props.mouseTrackingEnabled,\n          touchTrackingEnabled: this.props.touchTrackingEnabled,\n          preventDefaultTouchmoveEvent: this.props.preventEventOnTouchMove\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      clearInterval(this._autoPlayIntervalId);\n      window.removeEventListener('resize', this._debouncedHandleOnWindowResize);\n      window.removeEventListener('keyup', this._handleOnKeyUp);\n      this.swiper.destroy();\n    }\n  }, {\n    key: 'slideTo',\n    value: function slideTo() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      if (this._isClickDisabled(index)) return;\n\n      this._disableAnimation();\n\n      this._isFadeOutAnimationAllowed() && this.setAnimationPropsOnDotClick(index);\n      this.props.disableAutoPlayOnAction && this._pause();\n\n      this._slideToItem(index);\n    }\n  }, {\n    key: 'slidePrev',\n    value: function slidePrev() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (this._isClickDisabled()) return;\n\n      this._disableAnimation();\n\n      this._isFadeOutAnimationAllowed() && this._setAnimationPropsOnClick('prev');\n      if (Utils.itemInfo(this.state).isPrevSlideDisabled) return this._onInactiveItem();\n      if (action && this.props.disableAutoPlayOnAction) this._pause();\n\n      this._slideToItem(this.state.currentIndex - 1);\n    }\n  }, {\n    key: 'slideNext',\n    value: function slideNext() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (this._isClickDisabled()) return;\n\n      this._disableAnimation();\n\n      this._isFadeOutAnimationAllowed() && this._setAnimationPropsOnClick('next');\n      if (Utils.itemInfo(this.state).isNextSlideDisabled) return this._onInactiveItem();\n      if (action && this.props.disableAutoPlayOnAction) this._pause();\n\n      this._slideToItem(this.state.currentIndex + 1);\n    }\n  }, {\n    key: '_setupSwipeHahdlers',\n    value: function _setupSwipeHahdlers() {\n      this.swiper = new _vanillaSwipe2.default({\n        element: this.swipeWrapper,\n        onSwiping: this._throttledOnTouchMove,\n        onSwiped: this._onTouchEnd,\n        rotationAngle: 10,\n        mouseTrackingEnabled: this.props.mouseTrackingEnabled,\n        touchTrackingEnabled: this.props.touchTrackingEnabled,\n        preventDefaultTouchmoveEvent: this.props.preventEventOnTouchMove\n      });\n      this.swiper.init();\n    }\n  }, {\n    key: '_onSlideChange',\n    value: function _onSlideChange() {\n      if (this.props.onSlideChange) {\n        this.props.onSlideChange(this._getEventObject());\n      }\n    }\n  }, {\n    key: '_onSlideChanged',\n    value: function _onSlideChanged() {\n      if (this.props.onSlideChanged) {\n        this.props.onSlideChanged(this._getEventObject());\n      }\n\n      this._allowAnimation();\n    }\n  }, {\n    key: '_onInitialized',\n    value: function _onInitialized(initialState) {\n      if (this.props.onInitialized) {\n        this.props.onInitialized(this._getEventObject(initialState));\n      }\n    }\n  }, {\n    key: '_onResized',\n    value: function _onResized() {\n      if (this.props.onResized) {\n        this.props.onResized(this._getEventObject());\n      }\n    }\n  }, {\n    key: '_setInitialState',\n    value: function _setInitialState() {\n      var initialState = Utils.calculateInitialProps(this.props, this.stageComponent);\n      this.setState(initialState, this._onInitialized(initialState));\n    }\n  }, {\n    key: '_checkSlidePosition',\n    value: function _checkSlidePosition(shouldSkipRecalculation) {\n      this._stopSwipeAnimation();\n\n      this._resetAnimationProps();\n\n      this._resetSwipePositionProps();\n\n      shouldSkipRecalculation ? this._skipSlidePositionRecalculation() : this._updateSlidePosition();\n    }\n  }, {\n    key: '_setAutoPlayInterval',\n    value: function _setAutoPlayInterval() {\n      var _this2 = this;\n\n      var duration = this.state.duration;\n      var _props = this.props,\n          autoPlayDirection = _props.autoPlayDirection,\n          autoPlayInterval = _props.autoPlayInterval;\n      var playInterval = Math.max(autoPlayInterval, duration);\n      this._autoPlayIntervalId = setInterval(function () {\n        if (!_this2._isHovered() && _this2._autoPlayIntervalId && _this2.state.isPlaying) {\n          autoPlayDirection === 'rtl' ? _this2.slidePrev(false) : _this2.slideNext(false);\n        }\n      }, playInterval);\n    }\n  }, {\n    key: '_clearAutoPlayInterval',\n    value: function _clearAutoPlayInterval() {\n      clearInterval(this._autoPlayIntervalId);\n    }\n  }, {\n    key: '_clearUpdateSlidePositionIntervalId',\n    value: function _clearUpdateSlidePositionIntervalId() {\n      clearTimeout(this._updateSlidePositionIntervalId);\n    }\n  }, {\n    key: '_play',\n    value: function _play() {\n      this.setState({\n        isPlaying: true\n      });\n\n      if (!this._autoPlayIntervalId) {\n        this._setAutoPlayInterval();\n      }\n    }\n  }, {\n    key: '_slideToItem',\n    value: function _slideToItem(index) {\n      var _this3 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      this._onSlideChange();\n\n      var _options$duration = options.duration,\n          duration = _options$duration === undefined ? this.state.duration : _options$duration,\n          _options$shouldSkipRe = options.shouldSkipRecalculation,\n          shouldSkipRecalculation = _options$shouldSkipRe === undefined ? false : _options$shouldSkipRe;\n      var translate3d = Utils.getTranslate3dPosition(index, this.state);\n      this.setState(_extends({\n        currentIndex: index,\n        translate3d: translate3d\n      }, this._getIntermediateStateProps(duration, shouldSkipRecalculation)), function () {\n        return _this3._checkSlidePosition(shouldSkipRecalculation);\n      });\n    }\n  }, {\n    key: '_onTouchMove',\n    value: function _onTouchMove(e, deltaX, deltaY) {\n      this.swipingStarted = true;\n\n      this._handleOnMouseEnter();\n\n      if (Utils.isVerticalTouchMoveDetected(e, deltaX, deltaY)) {\n        this.verticalSwipingDetected = true;\n        return;\n      } else {\n        this.verticalSwipingDetected = false;\n      }\n\n      if (this._isSwipeDisable()) {\n        return;\n      }\n\n      this._disableAnimation();\n\n      this._startSwipeAnimation();\n\n      this._clearUpdateSlidePositionIntervalId();\n\n      this.touchEndTimeoutId && clearTimeout(this.touchEndTimeoutId);\n      var _state = this.state,\n          slides = _state.slides,\n          items = _state.items,\n          itemWidth = _state.itemWidth,\n          infinite = _state.infinite,\n          stagePadding = _state.stagePadding;\n      var slidesLength = slides.length;\n      var direction = Utils.getSwipeDirection(deltaX);\n\n      var position = this._getTranslateXPosition(deltaX);\n\n      if (infinite === false) {\n        var _minSwipeLimit = Utils.getMinSwipeLimitIfNotInfinite(items, itemWidth);\n\n        var _maxSwipeLimit = Utils.getMaxSwipeLimitIfNotInfinite(slidesLength, itemWidth);\n\n        if (Utils.shouldRecalculateSwipePosition(position, _minSwipeLimit, _maxSwipeLimit)) {\n          return;\n        }\n\n        Utils.animate(this.stageComponent, position);\n\n        this._setSwipePositionProps({\n          position: position,\n          direction: direction\n        });\n\n        return;\n      }\n\n      var minPosition = Utils.getMinSwipePosition(items, itemWidth);\n      var minSwipeLimit = Utils.getMinSwipeLimit(minPosition, stagePadding);\n      var maxPosition = Utils.getMaxSwipePosition(items, itemWidth, slidesLength);\n      var maxSwipeLimit = Utils.getMaxSwipeLimit(maxPosition, stagePadding, itemWidth);\n\n      if (Utils.shouldRecalculateSwipePosition(position, minSwipeLimit, maxSwipeLimit)) {\n        try {\n          recalculatePosition();\n        } catch (err) {\n          Utils.debug(err);\n        }\n      }\n\n      Utils.animate(this.stageComponent, position);\n\n      this._setSwipePositionProps({\n        position: position,\n        direction: direction\n      });\n\n      function recalculatePosition() {\n        direction === 'RIGHT' ? position = position + slidesLength * -itemWidth : position = position + maxPosition - items * itemWidth;\n\n        if (Utils.shouldRecalculateSwipePosition(position, minSwipeLimit, maxSwipeLimit)) {\n          recalculatePosition();\n        }\n      }\n    }\n  }, {\n    key: '_beforeTouchEnd',\n    value: function _beforeTouchEnd() {\n      var _this4 = this;\n\n      var _swipePosition = this.swipePosition,\n          direction = _swipePosition.direction,\n          position = _swipePosition.position;\n      var _state2 = this.state,\n          itemWidth = _state2.itemWidth,\n          items = _state2.items,\n          duration = _state2.duration,\n          infinite = _state2.infinite;\n      var swipeIndex = Utils.calculateSwipeIndex(itemWidth, position, direction);\n      var currentIndex = Utils.getSwipeIndexOnBeforeTouchEnd(swipeIndex, items);\n      var translateXPosition = Utils.getSwipePositionOnBeforeTouchEnd(swipeIndex, itemWidth);\n\n      if (infinite === false) {\n        this._isInfiniteModeDisabledBeforeTouchEnd(swipeIndex, currentIndex);\n\n        return;\n      }\n\n      Utils.animate(this.stageComponent, translateXPosition, duration);\n      this.touchEndAnimation = true;\n      this.touchEndTimeoutId = setTimeout(function () {\n        if (_this4._isSwipeAnimationLastFrame()) {\n          if (_this4.state.isAnimationCanceled) {\n            return _this4._handleOnAnimationCanceled();\n          }\n\n          var nextItemIndex = Utils.getNextItemIndexBeforeTouchEnd(translateXPosition, _this4.state);\n          var nextTranslateXPosition = Utils.getTranslate3dPosition(nextItemIndex, _this4.state);\n          Utils.animate(_this4.stageComponent, nextTranslateXPosition, 0);\n\n          _this4._slideToItem(nextItemIndex, {\n            duration: 0,\n            shouldSkipRecalculation: true\n          });\n        }\n      }, duration);\n    }\n  }, {\n    key: '_isInfiniteModeDisabledBeforeTouchEnd',\n    value: function _isInfiniteModeDisabledBeforeTouchEnd(swipeIndex, currentIndex) {\n      var _this5 = this;\n\n      var _state3 = this.state,\n          items = _state3.items,\n          itemWidth = _state3.itemWidth,\n          duration = _state3.duration,\n          slides = _state3.slides;\n      var position = Utils.getTranslate3dPosition(currentIndex, {\n        itemWidth: itemWidth,\n        items: items\n      });\n\n      if (swipeIndex < items) {\n        currentIndex = Utils.recalculateCurrentIndexOnBeforeTouchEnd();\n        position = Utils.recalculatePositionOnBeforeTouchEnd(items, itemWidth);\n      }\n\n      if (swipeIndex > slides.length) {\n        currentIndex = Utils.recalculateCurrentIndexOnBeforeTouchEnd(slides.length, items);\n        position = Utils.recalculatePositionOnBeforeTouchEnd(slides.length, itemWidth);\n      }\n\n      Utils.animate(this.stageComponent, position, duration);\n      this.touchEndAnimation = true;\n      this.touchEndTimeoutId = setTimeout(function () {\n        if (_this5._isSwipeAnimationLastFrame()) {\n          if (_this5.state.isAnimationCanceled) {\n            return _this5._handleOnAnimationCanceled();\n          }\n\n          Utils.animate(_this5.stageComponent, position);\n\n          _this5._slideToItem(currentIndex, {\n            duration: 0,\n            shouldSkipRecalculation: true\n          });\n        }\n      }, duration);\n    }\n  }, {\n    key: '_renderPrevButton',\n    value: function _renderPrevButton() {\n      var _Utils$itemInfo2 = Utils.itemInfo(this.state),\n          isPrevSlideDisabled = _Utils$itemInfo2.isPrevSlideDisabled;\n\n      return _react2.default.createElement(Views.PrevNextButton, {\n        name: 'prev',\n        disabled: isPrevSlideDisabled,\n        onClick: this.slidePrev,\n        onMouseEnter: this._handleOnMouseEnter,\n        onMouseLeave: this._handleOnMouseLeave\n      });\n    }\n  }, {\n    key: '_renderNextButton',\n    value: function _renderNextButton() {\n      var _Utils$itemInfo3 = Utils.itemInfo(this.state),\n          isNextSlideDisabled = _Utils$itemInfo3.isNextSlideDisabled;\n\n      return _react2.default.createElement(Views.PrevNextButton, {\n        name: 'next',\n        disabled: isNextSlideDisabled,\n        onClick: this.slideNext,\n        onMouseEnter: this._handleOnMouseEnter,\n        onMouseLeave: this._handleOnMouseLeave\n      });\n    }\n  }, {\n    key: '_renderPlayPauseButton',\n    value: function _renderPlayPauseButton() {\n      return _react2.default.createElement(Views.PlayPauseButton, {\n        isPlaying: this.state.isPlaying,\n        onClick: this._playPauseToggle\n      });\n    }\n  }, {\n    key: '_renderDotsNavigation',\n    value: function _renderDotsNavigation() {\n      return _react2.default.createElement(Views.DotsNavigation, {\n        state: this.state,\n        onClick: this.slideTo,\n        onMouseEnter: this._handleOnMouseEnter,\n        onMouseLeave: this._handleOnMouseLeave\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this6 = this;\n\n      var _state4 = this.state,\n          style = _state4.style,\n          translate3d = _state4.translate3d,\n          clones = _state4.clones;\n      var wrapperStyles = Utils.getWrapperStyles(this.stageComponent, this.props, this.state);\n      var stageStyles = Utils.getStageStyles({\n        translate3d: translate3d\n      }, style);\n      var dotsDisabled = Utils.shouldDisableDots(this.props, this.state);\n      return _react2.default.createElement('div', {\n        className: 'alice-carousel',\n        ref: this._setRootComponentRef\n      }, _react2.default.createElement('div', {\n        ref: function ref(el) {\n          return _this6.swipeWrapper = el;\n        }\n      }, _react2.default.createElement('div', {\n        style: wrapperStyles,\n        className: 'alice-carousel__wrapper',\n        onMouseEnter: this._handleOnMouseEnter,\n        onMouseLeave: this._handleOnMouseLeave\n      }, _react2.default.createElement('ul', {\n        style: stageStyles,\n        className: 'alice-carousel__stage',\n        ref: this._setStageComponentRef\n      }, clones.map(this._renderStageItem)))), this.props.showSlideInfo ? this._renderSlideInfo() : null, dotsDisabled ? null : this._renderDotsNavigation(), !this.props.buttonsDisabled ? this._renderPrevButton() : null, !this.props.buttonsDisabled ? this._renderNextButton() : null, this.props.playButtonEnabled ? this._renderPlayPauseButton() : null);\n    }\n  }]);\n\n  return AliceCarousel;\n}(_react2.default.PureComponent);\n\nexports.default = AliceCarousel;\nAliceCarousel.propTypes = _propTypes.propTypes;\nAliceCarousel.defaultProps = _propTypes.defaultProps;","map":null,"metadata":{},"sourceType":"script"}